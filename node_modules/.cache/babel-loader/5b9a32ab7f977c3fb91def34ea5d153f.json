{"ast":null,"code":"import { ApolloClient, HttpLink, split } from \"apollo-boost\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { getMainDefinition } from \"apollo-utilities\";\nconst httpLink = new HttpLink({\n  uri: \"http://localhost:4000/\"\n});\nconst wsLink = new WebSocketLink({\n  uri: \"ws://localhost:4000/\",\n  options: {\n    reconnect: true\n  }\n});\nconst link = split(_ref => {\n  let {\n    query\n  } = _ref;\n  const {\n    kind,\n    operation\n  } = getMainDefinition(query);\n  return kind === \"OperationDefinition\" && operation === \"subscription\";\n}, wsLink, httpLink);\nconst client = new ApolloClient({\n  link,\n  cache: new InMemoryCache()\n}); // const client = new ApolloClient({\n//   uri: \"http://localhost:4000/\",\n// });\n\nexport default client;","map":{"version":3,"sources":["/Users/sonseongho/Desktop/workspace/react/react-web/apollo-react/src/apollo.js"],"names":["ApolloClient","HttpLink","split","InMemoryCache","WebSocketLink","getMainDefinition","httpLink","uri","wsLink","options","reconnect","link","query","kind","operation","client","cache"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,QAAvB,EAAiCC,KAAjC,QAA8C,cAA9C;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,iBAAT,QAAkC,kBAAlC;AAEA,MAAMC,QAAQ,GAAG,IAAIL,QAAJ,CAAa;AAC5BM,EAAAA,GAAG,EAAE;AADuB,CAAb,CAAjB;AAIA,MAAMC,MAAM,GAAG,IAAIJ,aAAJ,CAAkB;AAC/BG,EAAAA,GAAG,EAAE,sBAD0B;AAE/BE,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAE;AADJ;AAFsB,CAAlB,CAAf;AAOA,MAAMC,IAAI,GAAGT,KAAK,CAChB,QAAe;AAAA,MAAd;AAAEU,IAAAA;AAAF,GAAc;AACb,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAsBT,iBAAiB,CAACO,KAAD,CAA7C;AACA,SAAOC,IAAI,KAAK,qBAAT,IAAkCC,SAAS,KAAK,cAAvD;AACD,CAJe,EAKhBN,MALgB,EAMhBF,QANgB,CAAlB;AASA,MAAMS,MAAM,GAAG,IAAIf,YAAJ,CAAiB;AAC9BW,EAAAA,IAD8B;AAE9BK,EAAAA,KAAK,EAAE,IAAIb,aAAJ;AAFuB,CAAjB,CAAf,C,CAKA;AACA;AACA;;AACA,eAAeY,MAAf","sourcesContent":["import { ApolloClient, HttpLink, split } from \"apollo-boost\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { getMainDefinition } from \"apollo-utilities\";\n\nconst httpLink = new HttpLink({\n  uri: \"http://localhost:4000/\",\n});\n\nconst wsLink = new WebSocketLink({\n  uri: \"ws://localhost:4000/\",\n  options: {\n    reconnect: true,\n  },\n});\n\nconst link = split(\n  ({ query }) => {\n    const { kind, operation } = getMainDefinition(query);\n    return kind === \"OperationDefinition\" && operation === \"subscription\";\n  },\n  wsLink,\n  httpLink\n);\n\nconst client = new ApolloClient({\n  link,\n  cache: new InMemoryCache(),\n});\n\n// const client = new ApolloClient({\n//   uri: \"http://localhost:4000/\",\n// });\nexport default client;\n"]},"metadata":{},"sourceType":"module"}