{"ast":null,"code":"var _jsxFileName = \"/Users/sonseongho/Desktop/workspace/react/react-web/apollo-react/src/routes/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport Movie from \"../components/Movie\";\nimport { BsLayoutThreeColumns, BsGrid3X3, BsPlusSquare } from \"react-icons/bs\";\nimport { Link } from \"react-router-dom\";\nimport { Layout } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Footer,\n  Sider,\n  Content\n} = Layout; // const REFRESH_MOVIES = gql`\n//   subscription {\n//     refreshMovies {\n//       id\n//       title\n//       rating\n//       description_intro\n//       language\n//       medium_cover_image\n//       genres\n//     }\n//   }\n// `;\n\nconst GET_MOVIES = gql`\n  query {\n    movies {\n      id\n      title\n      rating\n      description_intro\n      language\n      medium_cover_image\n      genres\n    }\n  }\n`;\n\nfunction Home() {\n  _s();\n\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useQuery(GET_MOVIES);\n  const [layout, setLayout] = useState(0);\n  console.log(\"get movies > \", loading, error, data);\n  useEffect(() => {\n    refetch();\n  }, [refetch]);\n  useEffect(() => {\n    if (layout === 0) {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:auto;\";\n    } else {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:hidden\";\n    }\n  }, [layout]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row-reverse\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              margin: \"0px 10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(BsPlusSquare, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            margin: \"0px 10px\"\n          },\n          onClick: () => {\n            layout > 0 ? setLayout(0) : setLayout(1);\n          },\n          children: layout === 0 ? /*#__PURE__*/_jsxDEV(BsLayoutThreeColumns, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(BsGrid3X3, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"200px\",\n          alignItems: \"center\",\n          display: \"flex\",\n          width: \"100%\",\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"rgb(255 0 0)\",\n            fontWeight: \"900\",\n            flex: 1,\n            fontSize: \"44px\",\n            fontFamily: \"system-ui\"\n          },\n          children: \"Son's Movie Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: layout === 0 ? {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr 1fr 1fr 1fr\",\n          justifyItems: \"center\"\n        } : {\n          display: \"flex\",\n          overflow: \"auto\"\n        },\n        children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 23\n        }, this), !loading && data && data.movies && data.movies.map(movie => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: layout !== 0 ? {\n              margin: \"0px 10px\"\n            } : {},\n            children: /*#__PURE__*/_jsxDEV(Movie, { ...movie\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)\n          }, movie.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this);\n        }), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Error!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"8t7a4Mxl7SFCd6h6gPpaNL4IRD8=\", false, function () {\n  return [useQuery];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/sonseongho/Desktop/workspace/react/react-web/apollo-react/src/routes/Home.js"],"names":["React","useState","useEffect","gql","useQuery","Movie","BsLayoutThreeColumns","BsGrid3X3","BsPlusSquare","Link","Layout","Header","Footer","Sider","Content","GET_MOVIES","Home","loading","error","data","refetch","layout","setLayout","console","log","document","getElementsByTagName","style","display","flexDirection","margin","height","alignItems","width","textAlign","color","fontWeight","flex","fontSize","fontFamily","gridTemplateColumns","justifyItems","overflow","movies","map","movie","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport Movie from \"../components/Movie\";\nimport { BsLayoutThreeColumns, BsGrid3X3, BsPlusSquare } from \"react-icons/bs\";\nimport { Link } from \"react-router-dom\";\nimport { Layout } from \"antd\";\n\nconst { Header, Footer, Sider, Content } = Layout;\n// const REFRESH_MOVIES = gql`\n//   subscription {\n//     refreshMovies {\n//       id\n//       title\n//       rating\n//       description_intro\n//       language\n//       medium_cover_image\n//       genres\n//     }\n//   }\n// `;\n\nconst GET_MOVIES = gql`\n  query {\n    movies {\n      id\n      title\n      rating\n      description_intro\n      language\n      medium_cover_image\n      genres\n    }\n  }\n`;\n\nfunction Home() {\n  const { loading, error, data, refetch } = useQuery(GET_MOVIES);\n  const [layout, setLayout] = useState(0);\n\n  console.log(\"get movies > \", loading, error, data);\n\n  useEffect(() => {\n    refetch();\n  }, [refetch]);\n\n  useEffect(() => {\n    if (layout === 0) {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:auto;\";\n    } else {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:hidden\";\n    }\n  }, [layout]);\n\n  return (\n    <Layout>\n      <Header>\n        <div style={{ display: \"flex\", flexDirection: \"row-reverse\" }}>\n          <Link to=\"/create\">\n            <span style={{ margin: \"0px 10px\" }}>\n              <BsPlusSquare size={24} />\n            </span>\n          </Link>\n          <span\n            style={{ margin: \"0px 10px\" }}\n            onClick={() => {\n              layout > 0 ? setLayout(0) : setLayout(1);\n            }}\n          >\n            {layout === 0 ? (\n              <BsLayoutThreeColumns size={24} />\n            ) : (\n              <BsGrid3X3 size={24} />\n            )}\n          </span>\n        </div>\n        <div\n          style={{\n            height: \"200px\",\n            alignItems: \"center\",\n            display: \"flex\",\n            width: \"100%\",\n            textAlign: \"center\",\n          }}\n        >\n          <span\n            style={{\n              color: \"rgb(255 0 0)\",\n              fontWeight: \"900\",\n              flex: 1,\n              fontSize: \"44px\",\n              fontFamily: \"system-ui\",\n            }}\n          >\n            Son's Movie Collection\n          </span>\n        </div>\n      </Header>\n      <Content>\n        <div\n          style={\n            layout === 0\n              ? {\n                  display: \"grid\",\n                  gridTemplateColumns: \"1fr 1fr 1fr 1fr 1fr\",\n                  justifyItems: \"center\",\n                }\n              : { display: \"flex\", overflow: \"auto\" }\n          }\n        >\n          {loading && <div>Loading...</div>}\n          {!loading &&\n            data &&\n            data.movies &&\n            data.movies.map((movie) => {\n              return (\n                <div\n                  key={movie.id}\n                  style={layout !== 0 ? { margin: \"0px 10px\" } : {}}\n                >\n                  <Movie {...movie} />\n                </div>\n              );\n            })}\n          {error && <div>Error!</div>}\n        </div>\n      </Content>\n    </Layout>\n  );\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}