{"ast":null,"code":"var _jsxFileName = \"/Users/sonseongho/Desktop/workspace/react/react-web/apollo-react/src/routes/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport Movie from \"../components/Movie\";\nimport { BsLayoutThreeColumns, BsGrid3X3, BsPlusSquare } from \"react-icons/bs\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst {\n  PubSub\n} = require(\"graphql-subscriptions\");\n\nconst ps = PubSub();\nconst GET_MOVIES = gql`\n  query {\n    movies {\n      id\n      title\n      rating\n      description_intro\n      language\n      medium_cover_image\n      genres\n    }\n  }\n`;\n\nfunction Home() {\n  _s();\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_MOVIES);\n\n  function incrementNumber() {\n    ps.publish(\"SUB_MOVIES\");\n    console.log(\"publish >>> \");\n    setTimeout(incrementNumber, 1000);\n  } // Start incrementing\n\n\n  incrementNumber();\n  const [layout, setLayout] = useState(0);\n  useEffect(() => {\n    if (layout === 0) {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:auto;\";\n    } else {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:hidden\";\n    }\n  }, [layout]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row-reverse\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/create\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            margin: \"0px 10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(BsPlusSquare, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          margin: \"0px 10px\"\n        },\n        onClick: () => {\n          layout > 0 ? setLayout(0) : setLayout(1);\n        },\n        children: layout === 0 ? /*#__PURE__*/_jsxDEV(BsLayoutThreeColumns, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(BsGrid3X3, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"200px\",\n        alignItems: \"center\",\n        display: \"flex\",\n        width: \"100%\",\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"rgb(255 0 0)\",\n          fontWeight: \"900\",\n          flex: 1,\n          fontSize: \"44px\",\n          fontFamily: \"system-ui\"\n        },\n        children: \"Son's Movie Collection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: layout === 0 ? {\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr 1fr 1fr 1fr\",\n        justifyItems: \"center\"\n      } : {\n        display: \"flex\",\n        overflow: \"auto\"\n      },\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this), !loading && data && data.movies && data.movies.map(movie => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: layout !== 0 ? {\n            margin: \"0px 10px\"\n          } : {},\n          children: /*#__PURE__*/_jsxDEV(Movie, { ...movie\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)\n        }, movie.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this);\n      }), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"46xg1f8PtZwm0xU7In909ynSg1E=\", false, function () {\n  return [useQuery];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/sonseongho/Desktop/workspace/react/react-web/apollo-react/src/routes/Home.js"],"names":["React","useState","useEffect","gql","useQuery","Movie","BsLayoutThreeColumns","BsGrid3X3","BsPlusSquare","Link","PubSub","require","ps","GET_MOVIES","Home","loading","error","data","incrementNumber","publish","console","log","setTimeout","layout","setLayout","document","getElementsByTagName","style","display","flexDirection","margin","height","alignItems","width","textAlign","color","fontWeight","flex","fontSize","fontFamily","gridTemplateColumns","justifyItems","overflow","movies","map","movie","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport Movie from \"../components/Movie\";\nimport { BsLayoutThreeColumns, BsGrid3X3, BsPlusSquare } from \"react-icons/bs\";\nimport { Link } from \"react-router-dom\";\nconst { PubSub } = require(\"graphql-subscriptions\");\n\nconst ps = PubSub();\n\nconst GET_MOVIES = gql`\n  query {\n    movies {\n      id\n      title\n      rating\n      description_intro\n      language\n      medium_cover_image\n      genres\n    }\n  }\n`;\n\nfunction Home() {\n  const { loading, error, data } = useQuery(GET_MOVIES);\n\n  function incrementNumber() {\n    ps.publish(\"SUB_MOVIES\");\n    console.log(\"publish >>> \");\n    setTimeout(incrementNumber, 1000);\n  }\n  // Start incrementing\n  incrementNumber();\n\n  const [layout, setLayout] = useState(0);\n  useEffect(() => {\n    if (layout === 0) {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:auto;\";\n    } else {\n      document.getElementsByTagName(\"body\")[0].style = \"overflow:hidden\";\n    }\n  }, [layout]);\n\n  return (\n    <div>\n      <div style={{ display: \"flex\", flexDirection: \"row-reverse\" }}>\n        <Link to=\"/create\">\n          <span style={{ margin: \"0px 10px\" }}>\n            <BsPlusSquare size={24} />\n          </span>\n        </Link>\n        <span\n          style={{ margin: \"0px 10px\" }}\n          onClick={() => {\n            layout > 0 ? setLayout(0) : setLayout(1);\n          }}\n        >\n          {layout === 0 ? (\n            <BsLayoutThreeColumns size={24} />\n          ) : (\n            <BsGrid3X3 size={24} />\n          )}\n        </span>\n      </div>\n      <div\n        style={{\n          height: \"200px\",\n          alignItems: \"center\",\n          display: \"flex\",\n          width: \"100%\",\n          textAlign: \"center\",\n        }}\n      >\n        <span\n          style={{\n            color: \"rgb(255 0 0)\",\n            fontWeight: \"900\",\n            flex: 1,\n            fontSize: \"44px\",\n            fontFamily: \"system-ui\",\n          }}\n        >\n          Son's Movie Collection\n        </span>\n      </div>\n      <div\n        style={\n          layout === 0\n            ? {\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr 1fr 1fr 1fr\",\n                justifyItems: \"center\",\n              }\n            : { display: \"flex\", overflow: \"auto\" }\n        }\n      >\n        {loading && <div>Loading...</div>}\n        {!loading &&\n          data &&\n          data.movies &&\n          data.movies.map((movie) => {\n            return (\n              <div\n                key={movie.id}\n                style={layout !== 0 ? { margin: \"0px 10px\" } : {}}\n              >\n                <Movie {...movie} />\n              </div>\n            );\n          })}\n        {error && <div>Error!</div>}\n      </div>\n    </div>\n  );\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}