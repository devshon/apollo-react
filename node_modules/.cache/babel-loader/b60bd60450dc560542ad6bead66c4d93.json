{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar bodyParser = require(\"body-parser\");\n\nexports.bodyParserGraphQL = function (options) {\n  return function (req, res, next) {\n    if (req.is('application/graphql')) {\n      bodyParser.text({\n        type: 'application/graphql'\n      })(req, res, function () {\n        req.headers['content-type'] = 'application/json';\n        req.body = {\n          query: req.body\n        };\n        next();\n      });\n    } else {\n      bodyParser.json(options)(req, res, next);\n    }\n  };\n};\n\nexports.graphql = exports.bodyParserGraphQL;","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,UAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAYa,OAAA,CAAA,iBAAA,GAAyE,UAAC,OAAD,EAAgC;AAAK,SAAA,UACzH,GADyH,EAEzH,GAFyH,EAGzH,IAHyH,EAGvG;AAElB,QAAI,GAAG,CAAC,EAAJ,CAAO,qBAAP,CAAJ,EAAmC;AACjC,MAAA,UAAU,CAAC,IAAX,CAAgB;AAAE,QAAA,IAAI,EAAE;AAAR,OAAhB,EAAiD,GAAjD,EAAsD,GAAtD,EAA2D,YAAA;AACzD,QAAA,GAAG,CAAC,OAAJ,CAAY,cAAZ,IAA8B,kBAA9B;AACA,QAAA,GAAG,CAAC,IAAJ,GAAW;AACT,UAAA,KAAK,EAAE,GAAG,CAAC;AADF,SAAX;AAGA,QAAA,IAAI;AACL,OAND;AAOD,KARD,MAQO;AACL,MAAA,UAAU,CAAC,IAAX,CAAgB,OAAhB,EAAyB,GAAzB,EAA8B,GAA9B,EAAmC,IAAnC;AACD;AAfwH,GAAA;AAgB1H,CAhBY;;AAkBA,OAAA,CAAA,OAAA,GAAU,OAAA,CAAA,iBAAV","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bodyParser = require(\"body-parser\");\nexports.bodyParserGraphQL = function (options) { return function (req, res, next) {\n    if (req.is('application/graphql')) {\n        bodyParser.text({ type: 'application/graphql' })(req, res, function () {\n            req.headers['content-type'] = 'application/json';\n            req.body = {\n                query: req.body\n            };\n            next();\n        });\n    }\n    else {\n        bodyParser.json(options)(req, res, next);\n    }\n}; };\nexports.graphql = exports.bodyParserGraphQL;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}